---
categories: 计算机网络
title: 拥塞控制概念
---

# 拥塞控制实现

## 发送窗口

对于TCP会话的发送方，任何时候在其发送缓存内的数据都可以分为四类：

- 已经发送，并得到了对端的ACK。 
- 已经发送，但是仍未得到对端ACK。
- 未发送，但是对端**允许**进行发送。
- 未发送，但是对端**不允许**进行发送。

对于第二类和第三类数据，即“已经发送，未收到对端ACK”和“未发送，但是对端允许进行发送”合称为**发送窗口**。

窗口只能通过以下方式进行滑动：

- 当接收到新的ACK时，窗口滑动。

## 接收窗口

对于接收方，在某一时刻他的接收缓存只有三种：

- 已经接收，并且已经回复了ACK。
- ~~已经接收，但是仍未回复ACK。~~
- 未接收，但是已经准备好接收。
- 未接收，也仍未准备好进行接收。

未接收，准备进行接收，即第二类，被称为**接收窗口**。

# 拥塞窗口调整的本质

找到最适合当前网络的一个发送窗口。

# 快速重传

快重传机制在RFC 2581中被引入，但是在RFC 5681中被更新，它降低了发送者重传一个丢失的段的时间，它基于一种假设，当接收到一定量的相同冗余ACK时，这个包发生了丢失事件并且需要被重新传输。

# 快速恢复

快速恢复算法在RFC 2001中被引入，并且避免了当感受到一次丢包时将拥塞窗口重新设置为1，一个新的慢启动阈值被询问（这取决于使用哪种拥塞控制算法），并且拥塞窗口被设置为与此值相等。

# 超时事件

当超时事件发生时，TCP将会面临一个明显的性能降低，这将会把拥塞窗口**设置为一个段的大小**并且**已发送的包将会全部被设置为丢失**。

