---
categories: 算法
title: 算法竞赛中的一些小Trick
---

# 提前取余

要计算只包含加法、减法和乘法的整数表达式除以正整数$n$的余数，可以在每步计算之后对$n$取余，结果不变。

## 证明

证明过程可以分为以下三点：

- 和的余数等于余数的和；
- 差的余数等于余数的差；
- 积的余数等于余数的积。

首先证明**和的余数等于余数的和**：

假设有两个数$x$和$y$，可以将它们写成如下形式：


$$
x=a_{1}\times n+b_{1}\\
y=a_{2}\times n+b_{2}
$$


那么它们的和为：


$$
x+y=(a_{1}+a_{2})\times n+(b_{1}+b_{2})
$$


$x$对于$n$取余的余数为$b_{1}$，$y$对于$n$取余的余数为$b_{2}$，$x+y$对于$n$取余的余数为$b_{1}+b_{2}$，两者相等，故**和的余数等于余数的和**。

其次证明**差的余数等于余数的差**：

同上，它们的差为：


$$
x-y=(a_{1}-a_{2})\times n+(b_{1}-b_{2})
$$


$x-y$对于$n$取余的余数为$b_{1}-b_{2}$，故**差的余数等于余数的差**。

最后证明**积的余数等于余数的积**：

同上，它们的积为：


$$
x\times y=a_{1}a_{2}n^{2}+\left( a_{1}b_{2}+a_{2}b_{1} \right)n+b_{1}b_{2}
$$


其对于$n$的余数为$b_{1}b_{2}$，正好等于两者余数的积。