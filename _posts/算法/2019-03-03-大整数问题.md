---
categories: 算法
title: 大整数问题
---

# 大整数结构体BigInteger的实现

## 基本表示

结构体`BigInteger`能够存储高精度非负整数。其基本实现方式如下：

```c++
struct BigInteger {
	static const int BASE = 100000000; //静态成员变量使得其可以被所有实例访问，且只有一份
	static const int WIDTH = 8; //vector中的每一位都代表着一亿
	vector<int> s; //每一位表示一个八位的整数，若是要表示1234,则s={4,3,2,1}
    
	BigInteger(long long num = 0) {
        *this = num;
    } //构造函数
};
```

## 重载赋值运算符

可以重载赋值运算符`=`来对其进行赋值。

```c++
BigInteger operator = (long long num) { //对于长整数类型的赋值运算符
	s.clear();
	do {
		s.push_back(num % BASE);
		num /= BASE;
	} while(num > 0);
	return *this;
}

BigInteger operator = (const string& str) { //对于字符串类型的赋值运算符
	s.clear();
	int x, len = (str.length() - 1) / WIDTH + 1;
	for(int i = 0; i < len; i++) {
		int end = str.length() - i*WIDTH;
		int start = max(0, end - WIDTH);
		sscanf(str.substr(start, end-start).c_str(), "%d", &x);
		s.push_back(x);
	}
    return *this;
}
```



