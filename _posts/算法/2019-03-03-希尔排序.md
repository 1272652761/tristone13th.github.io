---
categories: 算法
---

希尔排序，也称递减增量排序算法，是插入排序的一种更高效的改进版本。希尔排序是**非稳定**排序算法。

# 历史

希尔排序按其设计者希尔（Donald Shell）的名字命名，该算法由1959年公布。一些老版本教科书和参考手册把该算法命名为`Shell-Metzner`，即包含`Marlene Metzner Norton`的名字，但是根据`Metzner`本人的说法，“我没有为这种算法做任何事，我的名字不应该出现在算法的名字中。”

# 前提

希尔排序基于插入排序的以下两点性质而提出改进的方法：

1. 插入排序在对几乎已经排好序的数据操作时，效率高，即可以达到线性排序的效率。
2. 但插入排序一般来说是低效的，因为插入排序每次只能将数据移动一位。

# 算法思想

将数组列在一个表中并对列排序（用插入排序）。重复这过程，不过每次用更长的列来进行。最后整个表就只有一列了。将数组转换至表是为了更好地理解这算法，算法本身仅仅对原数组进行排序（通过增加索引的步长，例如是用$i= i +  stepsize$而不是$i++$。

例如，假设有这样一组数`[ 13 14 94 33 82 25 59 94 65 23 45 27 73 25 39 10 ]`，如果我们以步长为`5`开始进行排序，我们可以通过将这列表放在有5列的表中来更好地描述算法，这样他们就应该看起来是这样： 

```c++
13 14 94 33 82
25 59 94 65 23
45 27 73 25 39
10
```

然后我们对每列进行排序： 

```c++
10 14 73 25 23
13 27 94 33 39
25 59 94 65 82
45
```

将上述四行数字，依序接在一起时我们得到：`[ 10 14 73 25 23 13 27 94 33 39 25 59 94 65 82 45 ]`.然后再以`3`为步长进行排序： 

```c++
10 14 73
25 23 13
27 94 33
39 25 59
94 65 82
45
```

排序之后变为： 

```c++
10 14 13
25 23 33
27 25 59
39 65 73
45 94 82
94
```

最后以1步长进行排序（此时就是简单的插入排序了）。 

# 步长序列

步长的选择是希尔排序的重要部分。只要最终步长为1任何步长序列都可以工作。算法最开始以一定的步长进行排序。然后会继续以一定步长进行排序，最终算法以步长为1进行排序。当步长为`1`时，算法变为直接的插入排序，这就保证了数据一定会被排序。 

